(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[219],{1587:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[slug]",function(){return a(8011)}])},8011:function(e,t,a){"use strict";a.r(t);var r=a(8264);t.default=r.default},8264:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return T}});var r=a(5893),o=a(7375),n=a(8527),i=a(1391),s=a(5193),c=a(8258),l=a(1163),p=a(7294),u=(a(2418),a(2474)),d=a(1604),m=function(){return(0,u.randomBytes)(10).toString("hex")},z=d.z.string().regex(/^[a-z0-9-_]+$/,"Invalid name. Use lowercase letters (a-z), digits (0-9), dash (-), underscore (_)."),g=d.z.string().regex(/^[a-z0-9-_]+$/,"Invalid name. Use lowercase letters (a-z), digits (0-9), dash (-), underscore (_)."),b=d.z.string().regex(/^[a-z0-9-_]+$/,"Invalid name. Use lowercase letters (a-z), digits (0-9), dash (-), underscore (_)."),h=d.z.string().regex(/^[a-z0-9.-]+$/),j=(d.z.number().min(0).max(65535),d.z.string().default(m)),f=d.z.array(d.z.union([d.z.object({type:d.z.literal("bind"),hostPath:d.z.string().min(1),mountPath:d.z.string().min(1)}),d.z.object({type:d.z.literal("volume"),name:b,mountPath:d.z.string().min(1)}),d.z.object({type:d.z.literal("file"),content:d.z.string(),mountPath:d.z.string().min(1)})])).default([]),v=d.z.object({replicas:d.z.number().default(1),command:d.z.string().nullable().default(null),zeroDowntime:d.z.boolean().default(!0),capAdd:d.z.array(d.z.string()).optional(),capDrop:d.z.array(d.z.string()).optional(),sysctls:d.z.record(d.z.string(),d.z.string()).optional()}).default({}),y=d.z.array(d.z.object({username:d.z.string(),password:d.z.string()})).optional(),N=d.z.union([d.z.object({type:d.z.literal("image"),image:d.z.string(),username:d.z.string().optional(),password:d.z.string().optional()}),d.z.object({type:d.z.literal("github"),owner:d.z.string().min(1),repo:d.z.string().min(1),ref:d.z.string().min(1),path:d.z.string().regex(/^\//),autoDeploy:d.z.boolean()})]).optional(),w=d.z.union([d.z.object({type:d.z.literal("dockerfile"),file:d.z.string().optional()}),d.z.object({type:d.z.literal("heroku-buildpacks")}),d.z.object({type:d.z.literal("paketo-buildpacks")}),d.z.object({type:d.z.literal("nixpacks")})]).optional(),x=d.z.object({memoryReservation:d.z.number(),memoryLimit:d.z.number(),cpuReservation:d.z.number(),cpuLimit:d.z.number()}).optional(),S=d.z.array(d.z.object({published:d.z.number(),target:d.z.number(),protocol:d.z.union([d.z.literal("tcp"),d.z.literal("udp")]).default("tcp")})).default([]),_=d.z.object({projectName:z,serviceName:g,source:N,build:w,env:d.z.string().default(""),proxy:d.z.object({port:d.z.number().default(80),secure:d.z.boolean().default(!0)}).default({}),basicAuth:y,deploy:v,domains:d.z.array(d.z.object({name:h})).default([]),mounts:f,ports:S,resources:x}),C=d.z.object({projectName:z,serviceName:g,image:d.z.string().optional(),password:j,resources:x}),P=d.z.object({projectName:z,serviceName:g,image:d.z.string().optional(),password:j,rootPassword:j,resources:x}),k=d.z.object({projectName:z,serviceName:g,image:d.z.string().optional(),password:j,rootPassword:j,resources:x}),D=d.z.object({projectName:z,serviceName:g,image:d.z.string().optional(),password:j,resources:x}),R=d.z.object({projectName:z,serviceName:g,image:d.z.string().optional(),password:j,resources:x});d.z.object({services:d.z.array(d.z.union([d.z.object({type:d.z.literal("app"),data:_}),d.z.object({type:d.z.literal("mysql"),data:P}),d.z.object({type:d.z.literal("mariadb"),data:k}),d.z.object({type:d.z.literal("mongo"),data:C}),d.z.object({type:d.z.literal("postgres"),data:D}),d.z.object({type:d.z.literal("redis"),data:R})]))});var E=[{slug:"nocodb",meta:{name:"NocoDB",description:"NocoDB is an open source Airtable alternative and no code platform that turns any database into a smart spreadsheet.",instructions:null,changeLog:[{date:"2023-02-8",description:"first release"}],links:[{label:"Website",url:"https://www.nocodb.com/"},{label:"Documentation",url:"https://docs.nocodb.com/getting-started/installation/"},{label:"Github",url:"https://github.com/nocodb/nocodb"}],contributors:[{name:"spacec0de",url:"https://github.com/spacec0de"}],schema:{type:"object",required:["projectName","appServiceName","appServiceImage","databaseServiceName","redisServiceName"],properties:{projectName:{type:"string",title:"Project Name"},domain:{type:"string",title:"Domain"},appServiceName:{type:"string",title:"App Service Name",default:"nocodb"},appServiceImage:{type:"string",title:"App Service Image",default:"nocodb/nocodb:0.104.3"},databaseServiceName:{type:"string",title:"Database Service Name",default:"nocodb-db"},redisServiceName:{type:"string",title:"Redis Service Name",default:"nocodb-redis"}}},logo:"logo.png",screenshots:[]},generate:function(e){var t=[],a=m(),r=m(),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return(0,u.randomBytes)(Math.round(e/2)).toString("hex")}(32);return t.push({type:"postgres",data:{projectName:e.projectName,serviceName:e.databaseServiceName,image:"postgres:15",password:a}}),t.push({type:"redis",data:{projectName:e.projectName,serviceName:e.redisServiceName,password:r}}),t.push({type:"app",data:{projectName:e.projectName,serviceName:e.appServiceName,source:{type:"image",image:e.appServiceImage},proxy:{port:8080,secure:!0},env:["DATABASE_URL=postgres://postgres:".concat(a,"@").concat(e.projectName,"_").concat(e.databaseServiceName,":5432/").concat(e.projectName),"NC_REDIS_URL=redis://default:".concat(r,"@").concat(e.projectName,"_").concat(e.redisServiceName,":6379"),"NC_AUTH_JWT_SECRET=".concat(o),"NC_PUBLIC_URL=https://".concat(e.domain)].join("\n"),mounts:[{type:"volume",name:"nc_data",mountPath:"/usr/app/data"}]}}),{services:t}}}],I=E,T=function(){var e=(0,l.useRouter)(),t=e.query.slug,a=I.find((function(e){return e.slug===t})),u=(0,p.useState)(),d=u[0],m=u[1],z=(0,p.useState)(""),g=z[0],b=z[1],h=(0,o.VP)(g),j=h.hasCopied,f=h.onCopy;return(0,p.useEffect)((function(){m(null),b("")}),[t]),(0,r.jsxs)(n.xu,{display:{lg:"grid"},gridTemplateRows:"auto 1fr",gridTemplateColumns:"400px 1fr",height:{lg:"100vh"},bg:"gray.800",children:[(0,r.jsx)(n.xu,{shadow:"md",zIndex:"100",gridRow:"1 / 2",gridColumn:"1 / 3",px:"4",py:"2",bg:"white",children:(0,r.jsxs)(n.kC,{direction:"row",alignItems:"center",children:[(0,r.jsx)(n.xv,{fontWeight:"bold",fontSize:"lg",mr:"6",children:"Templates"}),(0,r.jsxs)(i.Ph,{width:"64",value:t,onChange:function(t){e.push(t.target.value)},children:[(0,r.jsx)("option",{value:"",children:"Select Template"}),I.map((function(e){return(0,r.jsx)("option",{value:e.slug,children:e.meta.name},e.slug)}))]})]})}),a&&(0,r.jsx)(n.xu,{gridRow:"2 / 3",gridColumn:"1 / 2",overflow:"auto",p:"4",bg:"white",children:(0,r.jsx)(c.ZP,{schema:a.meta.schema,formData:d,onChange:function(e){return m(e.formData)},onSubmit:function(e){var t=e.formData;try{var r=a.generate(t);b(JSON.stringify(r,null,2))}catch(o){b("Error: ".concat(o.message))}},noHtml5Validate:!0,showErrorList:!1,children:(0,r.jsx)(s.zx,{type:"submit",colorScheme:"brand",children:"Generate"})})}),(0,r.jsx)(n.xu,{gridRow:"2 / 3",gridColumn:"2 / 3",overflow:"auto",p:"4",children:g&&(0,r.jsxs)(n.Kq,{alignItems:"start",children:[(0,r.jsx)(s.zx,{onClick:f,children:j?"Copied":"Copy"}),(0,r.jsx)(n.xu,{as:"pre",overflow:"auto",w:"100%",color:"white",children:g})]})})]})}}},function(e){e.O(0,[714,428,798,774,888,179],(function(){return t=1587,e(e.s=t);var t}));var t=e.O();_N_E=t}]);